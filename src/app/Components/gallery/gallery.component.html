<!-- Loading -->
<div class="spinnerClass" *ngIf="loading">
    <app-spinner></app-spinner>
</div>
<div class="container pt-5 mb-3">
    <div class="row" style="row-gap: 2em;">
        <div class="col-lg-12 col-sm-12 text-end mb-3">
            <div class="searchAndFilterClass">
                <div>
                    <app-search (searchPosts)="searchAlbumValue($event)"></app-search>
                </div>
                <div class="text-start">
                <app-filter
                    [all]="getAllAlbums()" 
                    [premiumCount]="getAllPremiumAlbums()"
                    [normalCount]="getAllNormalAlbums()"
                    [posts]="images" 
                    [premium]="premium" 
                    [normal]="normal"
                    (filterRadioButtonSelectionChange)="onFilterRadioButtonSelectionChange($event)">
                </app-filter>
                </div>
            </div>
        </div>
        <ng-container *ngFor="let album of albums">
            <div class="col-lg-3 col-md-4 col-sm-12" *ngIf="albumCountRadioButtonSelected === 'All' || albumCountRadioButtonSelected === album.type">
                <div class="card" *ngIf="searchStringAlbum === '' || album.type.toLowerCase().includes(searchStringAlbum)">
                    <div class="card p-2" style="height: 300px;">
                        <img ngSrc="{{album.img}}" width="400" height="200" ngSrcset="100w, 200w, 300w" class="lazy-bg-image"
                            loading="lazy" alt="{{album.title}}">
                    </div>
                    <div class="d-flex justify-content-between p-2 albumflexClass">
                        <span [ngStyle]="{'color':album.type === 'Premium' ? 'rgb(46, 218, 240)':'rgb(46, 240, 62)'}">{{album.type}}</span>
                        <span >{{album.price}}</span>
                        <span [ngStyle]="{'color': album.item === 'Available' ? 'rgb(46, 240, 62)':'red'}">{{album.item}}</span>
                    </div>
                    <div class="d-flex justify-content-between p-2 mt-1 albumflexClass">
                        <button class="btn" style="background-color:rgb(46, 218, 240);color:#fff;" routerLink="/admin/album/{{album.id}}">Show Details</button>
                        <button class="btn btn-danger" *ngIf="album.item === 'Available'">Buy now</button>
                    </div>
                </div>
            </div>
        </ng-container>
    </div>
</div>
